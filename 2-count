%{ 
#include <stdio.h>
#include <string.h>
#include <ctype.h>

int comment_count = 0;
int keyword_count = 0;
int identifier_count = 0;
int word_count = 0;
int line_count = 0;
int space_count = 0;

int yywrap() { return 1; }

char *keywords[] = {
    "int", "float", "char", "if", "else", "while", "for",
    "do", "return", "void", "main", "double", "long", "short",
    "unsigned", "signed", "switch", "case", "break", "continue",
    "struct", "typedef", "sizeof", "enum", "const", "static"
};

int is_keyword(char *s) {
    for (int i = 0; i < sizeof(keywords)/sizeof(char*); i++) {
        if (strcmp(s, keywords[i]) == 0)
            return 1;
    }
    return 0;
}
%}

%%
"/*"([^*]|\*+[^*/])*\*+"/"   { comment_count++; }

[a-zA-Z_][a-zA-Z0-9_]* {
    word_count++;
    if (is_keyword(yytext))
        keyword_count++;
    else
        identifier_count++;
}

[ \t]+                  { space_count += yyleng; }
\n                      { line_count++; }
.                       { /* ignore other characters */ }

%%
int main(int argc, char **argv) {
    if (argc > 1)
        yyin = fopen(argv[1], "r");
    else {
        printf("Usage: ./a.out <filename>\n");
        return 1;
    }

    yylex();

    printf("Lines      : %d\n", line_count);
    printf("Words      : %d\n", word_count);
    printf("Keywords   : %d\n", keyword_count);
    printf("Identifiers: %d\n", identifier_count);
    printf("Comments   : %d\n", comment_count);
    printf("Spaces     : %d\n", space_count);

    return 0;
}

____<input.c>_____________________________________
/* This is a comment */
int main() {
    int a = 10;  // variable declaration
    float b = 20.5;
    return 0;
}






_______________(i) Lex Program to print the total characters, white spaces, tabs in the given input file. ______________________
<char_whitespace_tab.l>
%{
#include <stdio.h>

int char_count = 0;
int space_count = 0;
int tab_count = 0;
int yywrap() { return 1; }
%}

%%
[ \t\n]    {
              char_count += yyleng;
              if (yytext[0] == ' ')
                  space_count++;
              else if (yytext[0] == '\t')
                  tab_count++;
              else if (yytext[0] == '\n')
                  ; // count as char only
          }

.         { char_count++; }

%%

int main(int argc, char **argv) {
    if (argc > 1)
        yyin = fopen(argv[1], "r");
    else {
        printf("Usage: ./a.exe <filename>\n");
        return 1;
    }

    yylex();

    printf("Total characters: %d\n", char_count);
    printf("Spaces          : %d\n", space_count);
    printf("Tabs            : %d\n", tab_count);

    return 0;
}

<input1.txt>____________________________________________________
Hello, world!    
This is a test.	Another tab.
Line 3 with tabs	and spaces.
